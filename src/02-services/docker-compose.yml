version: '3.4'

# use of absolute paths here is a workaround for a bug in the current version of
# Docker for Windows (as of 28 Nov 2018)

services:
  greeter:
    image: ${DOCKER_REGISTRY-}greeter
    build:
      context: .
      dockerfile: Greeter/Dockerfile

  sandwichmaker:
    image: ${DOCKER_REGISTRY-}sandwichmaker
    build:
      context: .
      dockerfile: SandwichMaker/Dockerfile

  gateway:
    image: ${DOCKER_REGISTRY-}gateway
    build:
      context: .
      dockerfile: Gateway/Dockerfile
